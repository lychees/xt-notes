(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+SZO":function(t,e){},"+if1":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"login-success"}},[e("van-icon",{attrs:{name:"success"}}),this._v(" "),e("p",[this._v("登录成功")]),this._v(" "),e("van-button",{attrs:{id:"backToHome",size:"large"},on:{click:this.backToHome}},[this._v("回到首页")])],1)},i=[]},0:function(t,e,n){t.exports=n("MDog")},"0nu6":function(t,e,n){"use strict";n.r(e);var a=n("Mg7r"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var r=n("31eV"),o=n("JFUb");var u=function(t){n("+SZO")},c=Object(o.a)(i.a,r.a,r.b,!1,u,"data-v-577dfd98",null);e.default=c.exports},"2RbH":function(t,e,n){"use strict";n.r(e);var a=n("giVQ"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var r=n("+if1"),o=n("JFUb");var u=function(t){n("B65C")},c=Object(o.a)(i.a,r.a,r.b,!1,u,"data-v-6ecb59f7",null);e.default=c.exports},"2lLy":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"LoginSuccess",methods:{goToLogin:function(){this.$router.push({path:"/login"})}}}},"2u4M":function(t,e,n){"use strict";n.r(e);var a=n("y0ES"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var r=n("LyT3"),o=n("JFUb");var u=function(t){n("5iRm")},c=Object(o.a)(i.a,r.a,r.b,!1,u,"data-v-18cbf558",null);e.default=c.exports},"31eV":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("van-nav-bar",{attrs:{title:"登录","left-text":"返回","right-text":"注册","left-arrow":""},on:{"click-right":t.onClickRight,"click-left":t.onClickLight}}),t._v(" "),n("van-cell-group",{staticClass:"cell-group"},[n("van-field",{attrs:{label:"用户名",placeholder:"请输入用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),n("van-field",{attrs:{label:"密码",type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),n("van-button",{attrs:{id:"submit",size:"large"},on:{click:t.submit}},[t._v("登录")]),t._v(" "),n("loading",{directives:[{name:"show",rawName:"v-show",value:!t.ifLoad,expression:"!ifLoad"}]})],1)},i=[]},"4EGB":function(t,e,n){"use strict";!function(t,e){var n=e.documentElement,a=t.devicePixelRatio||1;function i(){var t=n.clientWidth/10;n.style.fontSize=t+"px"}if(function t(){e.body?e.body.style.fontSize=12*a+"px":e.addEventListener("DOMContentLoaded",t)}(),i(),t.addEventListener("resize",i),t.addEventListener("pageshow",function(t){t.persisted&&i()}),a>=2){var s=e.createElement("body"),r=e.createElement("div");r.style.border=".5px solid transparent",s.appendChild(r),n.appendChild(s),1===r.offsetHeight&&n.classList.add("hairlines"),n.removeChild(s)}}(window,document)},"4oiO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"AllMyNots",data:function(){return{listOfNotes:[]}},methods:{getAllNotes:function(){var t=this;this.axios.get("/api/listallnotes").then(function(e){t.listOfNotes=e.data})},onClickLight:function(){window.history.go(-1)},deleteNote:function(t){var e=this;this.axios({method:"post",url:"/api/deletenote",data:{id:t}}).then(function(t){1===t.data.ok&&e.getAllNotes()})}},created:function(){this.getAllNotes()}}},"5iRm":function(t,e){},"7fvF":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[]},"9YyY":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"register"}},[n("van-nav-bar",{attrs:{title:"注册","left-text":"返回","right-text":"登录","left-arrow":""},on:{"click-right":t.onClickRight}}),t._v(" "),n("van-cell-group",{staticClass:"cell-group"},[n("van-field",{attrs:{label:"用户名",placeholder:"请输入用户名",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),n("van-field",{attrs:{label:"密码",type:"password",placeholder:"请输入密码",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),n("van-button",{attrs:{id:"submit",size:"large"},on:{click:t.submit}},[t._v("注册")])],1)},i=[]},"9vCR":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("404")])},i=[]},B65C:function(t,e){},Bftn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"LoginSuccess",methods:{seeMyNotes:function(){this.$router.push({path:"/allmynotes"})},goToHome:function(){this.$router.push({path:"/"})}}}},CNRE:function(t,e,n){"use strict";n.r(e);var a=n("wqCG"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var r=n("7fvF"),o=n("JFUb");var u=function(t){n("TEFr")},c=Object(o.a)(i.a,r.a,r.b,!1,u,null,null);e.default=c.exports},GJvR:function(t,e){},I4Dg:function(t,e,n){"use strict";n.r(e);var a=n("oJj8"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var r=n("9vCR"),o=n("JFUb");var u=function(t){n("pL8M")},c=Object(o.a)(i.a,r.a,r.b,!1,u,"data-v-14075a32",null);e.default=c.exports},IuQg:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"all-my-notes"}},[n("van-nav-bar",{attrs:{title:"登录","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLight}}),t._v(" "),t._l(t.listOfNotes,function(e){return n("div",{attrs:{id:"panel-wrap"}},[n("van-cell-swipe",{attrs:{"right-width":65}},[n("van-cell-group",[n("van-panel",{staticClass:"panel",attrs:{title:new Date(e.date).toLocaleString()}},[n("div",{staticClass:"panel-content"},[t._v(t._s(e.content))])])],1),t._v(" "),n("span",{staticClass:"cell-swipe-wrap",attrs:{slot:"right","data-id":e._id},on:{click:function(n){t.deleteNote(e._id)}},slot:"right"},[n("span",{staticClass:"cell-swipe"},[t._v("删除")])])],1)],1)})],2)},i=[]},LyT3:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"loading"}},[e("van-loading",{attrs:{color:"black"}})],1)},i=[]},MDog:function(t,e,n){"use strict";var a=f(n("oCYn")),i=f(n("L2JU")),s=f(n("CNRE")),r=f(n("SEu5"));n("4EGB");var o=f(n("zOZW"));n("9d8Q"),n("hZCq");var u=f(n("vDqi")),c=f(n("p/7L")),l=f(n("Kyfw"));function f(t){return t&&t.__esModule?t:{default:t}}a.default.use(i.default),a.default.use(l.default),a.default.use(c.default,u.default),a.default.use(o.default),a.default.config.productionTip=!1,a.default.axios.interceptors.response.use(function(t){return t},function(t){if(t.response)switch(t.response.status){case 401:sessionStorage.isLogin=!1,d.commit("logout"),r.default.push({path:"/login",query:{redirect:r.default.currentRoute.fullPath}})}return Promise.reject(t.response.data)});var d=new i.default.Store({state:{isLogin:null},mutations:{logout:function(t){t.isLogin=!1},isLogin:function(t){t.isLogin=!0}}});new a.default({el:"#app",router:r.default,store:d,components:{App:s.default},template:"<App/>",created:function(){}})},Mg7r:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=n("2u4M"),s=(a=i)&&a.__esModule?a:{default:a};e.default={name:"Login",components:{Loading:s.default},data:function(){return{username:"",password:"",ifLoad:!0}},methods:{submit:function(){var t=this;this.ifLoad=!1;this.axios({method:"post",url:"/user/login",data:{user:{username:this.username,password:this.password}}}).then(function(e){t.ifLoad=!0;var n=e.data;if(n.userid){localStorage.isLogin=!0,t.$store.commit("isLogin"),sessionStorage.userid=n.userid,t.$router.push({path:"/"})}else t.$toast(n.error)})},onClickRight:function(){this.$router.push({path:"/register"})},onClickLight:function(){window.history.go(-1)}}}},POfS:function(t,e){},SEu5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=d(n("oCYn")),i=d(n("jE9Z")),s=d(n("rQwl")),r=d(n("nXPv")),o=d(n("0nu6")),u=(d(n("2RbH")),d(n("yJkN"))),c=d(n("qndQ")),l=d(n("hMor")),f=d(n("I4Dg"));function d(t){return t&&t.__esModule?t:{default:t}}a.default.use(i.default),e.default=new i.default({routes:[{path:"/",name:"Isinput",component:s.default},{path:"/register",name:"Register",component:r.default},{path:"/login",name:"Login",component:o.default},{path:"/submitsuccess",name:"SubmitSuccess",component:c.default,meta:{requiresAuth:!0}},{path:"/registersuccess",name:"RegisterSuccess",component:u.default,meta:{requiresAuth:!0}},{path:"/allmynotes",name:"AllMyNotes",component:l.default},{path:"*",name:"PageNotFound",component:f.default}]})},TEFr:function(t,e){},TEKk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Register",data:function(){return{username:"",password:""}},methods:{submit:function(){var t=this;this.axios({method:"post",url:"/user/register",data:{user:{username:t.username,password:t.password}}}).then(function(e){var n=e.data;n.isRegister?t.$router.push({path:"/registersuccess"}):alert(n.error)})},onClickRight:function(){this.$router.push({path:"/login"})}}}},VbCC:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"submit-success"}},[n("van-icon",{attrs:{name:"success"}}),t._v(" "),n("p",[t._v("提交成功")]),t._v(" "),n("van-button",{attrs:{id:"see-my-notes",size:"large"},on:{click:t.seeMyNotes}},[t._v("查看我的notes")]),t._v(" "),n("van-button",{attrs:{id:"go-to-home",size:"large"},on:{click:t.goToHome}},[t._v("再写一条note")])],1)},i=[]},eIGF:function(t,e){},giVQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"LoginSuccess",methods:{backToHome:function(){this.$router.push({path:"/"})}}}},hMor:function(t,e,n){"use strict";n.r(e);var a=n("4oiO"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var r=n("IuQg"),o=n("JFUb");var u=function(t){n("eIGF")},c=Object(o.a)(i.a,r.a,r.b,!1,u,"data-v-00cabd9c",null);e.default=c.exports},"k1r/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Isinput",data:function(){return{input:""}},methods:{isLogin:function(){var t=this;this.axios.get("/user/isLogin").then(function(e){var n=e.data;if(localStorage.isLogin=n.loginStatus,1==n.loginStatus)return t.$store.commit("isLogin");t.$store.commit("logout")})},logout:function(){var t=this;this.axios.get("/user/logout").then(function(e){var n=e.data;localStorage.isLogin=n.loginStatus,t.$store.commit("logout")})},submit:function(){var t=this;this.axios({method:"post",url:"/api/submitpost",data:{content:t.input}}).then(function(e){e.data.status&&t.$router.push({path:"/SubmitSuccess"})})}},created:function(){this.isLogin()},computed:{login:function(){return this.$store.state.isLogin}}}},nXPv:function(t,e,n){"use strict";n.r(e);var a=n("TEKk"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var r=n("9YyY"),o=n("JFUb");var u=function(t){n("oYpv")},c=Object(o.a)(i.a,r.a,r.b,!1,u,"data-v-6d006945",null);e.default=c.exports},oJj8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"404"}},oYpv:function(t,e){},pL8M:function(t,e){},qndQ:function(t,e,n){"use strict";n.r(e);var a=n("Bftn"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var r=n("VbCC"),o=n("JFUb");var u=function(t){n("POfS")},c=Object(o.a)(i.a,r.a,r.b,!1,u,"data-v-65a673fa",null);e.default=c.exports},rQwl:function(t,e,n){"use strict";n.r(e);var a=n("k1r/"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var r=n("sbG/"),o=n("JFUb");var u=function(t){n("uTN7")},c=Object(o.a)(i.a,r.a,r.b,!1,u,"data-v-400f1852",null);e.default=c.exports},"sbG/":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"is-input"}},[n("h1",[t._v("notes")]),t._v(" "),n("div",{staticClass:"input-wrap"},[n("van-cell-group",[n("van-field",{attrs:{type:"textarea",placeholder:"请输入内容",rows:"4",autosize:""},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),t._v(" "),n("van-button",{attrs:{id:"submit",size:"large"},on:{click:t.submit}},[t._v("提交")]),t._v(" "),n("div",{staticClass:"small-btn-wrap"},[n("router-link",{staticClass:"small-btn",attrs:{to:{name:"AllMyNotes"}}},[t._v("我的notes")])],1),t._v(" "),t.login?n("div",{staticClass:"user-btn-wrap"},[n("a",{staticClass:"small-btn",on:{click:t.logout}},[t._v("登出")])]):n("div",{staticClass:"user-btn-wrap"},[n("router-link",{staticClass:"small-btn",attrs:{to:{name:"Login"}}},[t._v("登录")]),t._v(" "),n("span",[t._v("|")]),t._v(" "),n("router-link",{staticClass:"small-btn",attrs:{to:{name:"Register"}}},[t._v("注册")])],1)],1)])},i=[]},uTN7:function(t,e){},uXpn:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"register-success"}},[e("van-icon",{attrs:{name:"success"}}),this._v(" "),e("p",[this._v("注册成功")]),this._v(" "),e("van-button",{attrs:{id:"goToLogin",size:"large"},on:{click:this.goToLogin}},[this._v("前往登录")])],1)},i=[]},wqCG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"App"}},y0ES:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Loding"}},yJkN:function(t,e,n){"use strict";n.r(e);var a=n("2lLy"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var r=n("uXpn"),o=n("JFUb");var u=function(t){n("GJvR")},c=Object(o.a)(i.a,r.a,r.b,!1,u,"data-v-5a2f764c",null);e.default=c.exports}},[[0,0,1]]]);